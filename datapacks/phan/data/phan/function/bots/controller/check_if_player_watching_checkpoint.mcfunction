#the checkpoint we're looking at is represented by #check value

#return 1 if a player is looking at the checkpoint of interest

#if somebody is looking at the portal, deny advance
execute if score #check value matches 1 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=1},distance=..30] run return 1
execute if score #check value matches 2 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=2},distance=..30] run return 1
execute if score #check value matches 3 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=3},distance=..30] run return 1
execute if score #check value matches 4 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=4},distance=..30] run return 1
execute if score #check value matches 5 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=5},distance=..30] run return 1
execute if score #check value matches 6 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=6},distance=..30] run return 1
execute if score #check value matches 7 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=7},distance=..30] run return 1
execute if score #check value matches 8 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=8},distance=..30] run return 1
execute if score #check value matches 9 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=9},distance=..30] run return 1
execute if score #check value matches 10 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=10},distance=..30] run return 1

execute if score #check value matches 11 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=11},distance=..30] run return 1
execute if score #check value matches 12 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=12},distance=..30] run return 1
execute if score #check value matches 13 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=13},distance=..30] run return 1
execute if score #check value matches 14 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=14},distance=..30] run return 1
execute if score #check value matches 15 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=15},distance=..30] run return 1
execute if score #check value matches 16 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=16},distance=..30] run return 1
execute if score #check value matches 17 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=17},distance=..30] run return 1
execute if score #check value matches 18 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=18},distance=..30] run return 1
execute if score #check value matches 19 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=19},distance=..30] run return 1
execute if score #check value matches 20 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=20},distance=..30] run return 1

execute if score #check value matches 21 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=21},distance=..30] run return 1
execute if score #check value matches 22 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=22},distance=..30] run return 1
execute if score #check value matches 23 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=23},distance=..30] run return 1
execute if score #check value matches 24 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=24},distance=..30] run return 1
execute if score #check value matches 25 as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=25},distance=..30] run return 1

#check checkpoint 1 if we looped around
execute if score #check value >= #vCheckPoints value as @a[tag=doneWithIntro,gamemode=adventure] at @s positioned ^ ^ ^25 if entity @e[type=marker,tag=checkpoint,tag=posCalc,scores={versusSpawn=1,editArg1=1},distance=..30] run return 1


#nobody looking, we're fine
return 0