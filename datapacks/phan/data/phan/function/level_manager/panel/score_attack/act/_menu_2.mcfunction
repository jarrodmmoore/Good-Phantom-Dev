#executed by a levelEntry armor_stand
#with $(level_id) = this armor stand's UID
#with $(act) = the act we're editing

#get players on the right page
scoreboard players set @a[tag=tellMe] levelManagerPage 4


#armor_stand should update itself on what scores it should have
execute store result storage phan:level_index level_id int 1 run scoreboard players get @s levelUID
function phan:level_manager/panel/score_attack/act/load_data_from_storage with storage phan:level_index


#title (+ act name)
tellraw @a[tag=tellMe] ["",{text:"\n\n\n\n\n\n\n"}]
$tellraw @a[tag=tellMe] ["",{text:"===\\/=== ",bold:true,color:"yellow"},{selector:"@s"},{text:" | "},{nbt:"act_name",storage:"phan_dream_$(level_id):sa_act_$(act)",interpret:false},{text:" ===\\/===",bold:true,color:"yellow"}]

#notes:
#replayStartAnim controls whether we smoothly transition between levels or do a load screen
#portalXStopsMusic controls which portals stop music upon entry
#soulAngle controls soul spawn angle (affects the opening cutscene variation)

#note about music_track:
#-2 = use custom path
#-1 = random
#0 = none
#1.. = specific vanilla track

#thumbnail_model
#$tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.thumbnail_model",bold:true},{text:"  "},{nbt:"thumbnail_model",storage:"phan_dream_$(level_id):sa_act_$(act)",interpret:false},{text:"  "},{translate:"gp.misc.brackets",color:"light_purple",bold:false,with:[{translate:"gp.misc.set"}],click_event:{action:"suggest_command",command:"/function phan:level_manager/set_field {resource_location:'sa_act_$(act)',nbt:'thumbnail_model',value:\"gp/map_preview/generic\"}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.set"}]}}]
#time
$tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.time_of_day",bold:true},{text:"  "},{nbt:"time",storage:"phan_dream_$(level_id):sa_act_$(act)",interpret:false},{text:"  "},{translate:"gp.misc.brackets",color:"light_purple",bold:false,with:[{translate:"gp.misc.set"}],click_event:{action:"suggest_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'sa_act_$(act)',nbt:'time',value:6000}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.set"}]}}]
#weather
$tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.weather",bold:true},{text:"  "},{nbt:"weather",storage:"phan_dream_$(level_id):sa_act_$(act)",interpret:false},{text:"  "},{translate:"gp.misc.brackets",color:"light_purple",bold:false,with:[{translate:"gp.misc.set"}],click_event:{action:"suggest_command",command:"/function phan:level_manager/set_field {resource_location:'sa_act_$(act)',nbt:'weather',value:'clear'}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.set"}]}}]
#skybox
#$tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.skybox",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field_down {resource_location:'sa_act_$(act)',nbt:'skybox',offset:1,mod:4}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field {resource_location:'sa_act_$(act)',nbt:'skybox',offset:1,mod:4}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{nbt:"skybox",storage:"phan_dream_$(level_id):sa_act_$(act)",interpret:false}]
$execute if score @s levelManagerAct matches 1 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.skybox",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1136"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1139"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{nbt:"skybox",storage:"phan_dream_$(level_id):sa_act_$(act)",interpret:false}]
$execute if score @s levelManagerAct matches 2 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.skybox",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1137"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1140"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{nbt:"skybox",storage:"phan_dream_$(level_id):sa_act_$(act)",interpret:false}]
$execute if score @s levelManagerAct matches 3 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.skybox",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1138"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1141"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{nbt:"skybox",storage:"phan_dream_$(level_id):sa_act_$(act)",interpret:false}]
#soul_approach
#$tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.soul_approach_cutscene_variant",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field_down {resource_location:'sa_act_$(act)',nbt:'soul_approach',offset:0,mod:14}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field {resource_location:'sa_act_$(act)',nbt:'soul_approach',offset:0,mod:14}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{nbt:"soul_approach",storage:"phan_dream_$(level_id):sa_act_$(act)",interpret:false}]
$execute if score @s levelManagerAct matches 1 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.soul_approach_cutscene_variant",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1142"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1145"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{nbt:"soul_approach",storage:"phan_dream_$(level_id):sa_act_$(act)",interpret:false}]
$execute if score @s levelManagerAct matches 2 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.soul_approach_cutscene_variant",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1143"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1146"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{nbt:"soul_approach",storage:"phan_dream_$(level_id):sa_act_$(act)",interpret:false}]
$execute if score @s levelManagerAct matches 3 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.soul_approach_cutscene_variant",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1144"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1147"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{nbt:"soul_approach",storage:"phan_dream_$(level_id):sa_act_$(act)",interpret:false}]
#use_area_transition
#$execute if entity @s[tag=act$(act)AreaTransition] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.use_area_transition_function",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'sa_act_$(act)',nbt:'use_area_transition',value:1}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'sa_act_$(act)',nbt:'use_area_transition',value:0}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 1 if entity @s[tag=act1AreaTransition] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.use_area_transition_function",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1148"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1151"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 2 if entity @s[tag=act2AreaTransition] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.use_area_transition_function",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1149"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1152"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 3 if entity @s[tag=act3AreaTransition] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.use_area_transition_function",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1150"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1153"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
#$execute if entity @s[tag=!act$(act)AreaTransition] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.use_area_transition_function",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'sa_act_$(act)',nbt:'use_area_transition',value:1}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'sa_act_$(act)',nbt:'use_area_transition',value:0}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 1 if entity @s[tag=!act1AreaTransition] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.use_area_transition_function",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1148"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1151"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 2 if entity @s[tag=!act2AreaTransition] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.use_area_transition_function",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1149"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1152"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 3 if entity @s[tag=!act3AreaTransition] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.use_area_transition_function",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1150"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1153"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
#night vision
#$execute if entity @s[tag=act$(act)NightVision] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.night_vision",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'sa_act_$(act)',nbt:'night_vision',value:1}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'sa_act_$(act)',nbt:'night_vision',value:0}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 1 if entity @s[tag=act1NightVision] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.night_vision",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1154"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1157"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 2 if entity @s[tag=act2NightVision] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.night_vision",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1155"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1158"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 3 if entity @s[tag=act3NightVision] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.night_vision",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1156"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1159"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
#$execute if entity @s[tag=!act$(act)NightVision] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.night_vision",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'sa_act_$(act)',nbt:'night_vision',value:1}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'sa_act_$(act)',nbt:'night_vision',value:0}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 1 if entity @s[tag=!act1NightVision] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.night_vision",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1154"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1157"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 2 if entity @s[tag=!act2NightVision] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.night_vision",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1155"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1158"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 3 if entity @s[tag=!act3NightVision] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.night_vision",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1156"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1159"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
#bright mine models
#$execute if entity @s[tag=act$(act)BrightMines] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.bright_mines",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'sa_act_$(act)',nbt:'bright_mines',value:1}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'sa_act_$(act)',nbt:'bright_mines',value:0}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 1 if entity @s[tag=act1BrightMines] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.bright_mines",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1160"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1163"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 2 if entity @s[tag=act2BrightMines] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.bright_mines",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1161"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1164"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 3 if entity @s[tag=act3BrightMines] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.bright_mines",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1162"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1165"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
#$execute if entity @s[tag=!act$(act)BrightMines] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.bright_mines",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'sa_act_$(act)',nbt:'bright_mines',value:1}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'sa_act_$(act)',nbt:'bright_mines',value:0}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 1 if entity @s[tag=!act1BrightMines] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.bright_mines",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1160"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1163"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 2 if entity @s[tag=!act2BrightMines] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.bright_mines",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1161"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1164"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 3 if entity @s[tag=!act3BrightMines] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.bright_mines",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1162"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1165"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
#music_track (#musicTrackSA)
#$execute if score #musicTrackSA value matches ..-2 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field_down {resource_location:'sa_act_$(act)',nbt:'music_track',offset:-2,mod:32}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field {resource_location:'sa_act_$(act)',nbt:'music_track',offset:-2,mod:32}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.custom",with:[{score:{name:"#musicTrackSA",objective:"value"}}]}]
execute if score @s levelManagerAct matches 1 if score #musicTrackSA value matches ..-2 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1166"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1169"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.custom",with:[{score:{name:"#musicTrackSA",objective:"value"}}]}]
execute if score @s levelManagerAct matches 2 if score #musicTrackSA value matches ..-2 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1167"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1170"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.custom",with:[{score:{name:"#musicTrackSA",objective:"value"}}]}]
execute if score @s levelManagerAct matches 3 if score #musicTrackSA value matches ..-2 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1168"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1171"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.custom",with:[{score:{name:"#musicTrackSA",objective:"value"}}]}]
#$execute if score #musicTrackSA value matches -1 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field_down {resource_location:'sa_act_$(act)',nbt:'music_track',offset:-2,mod:32}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field {resource_location:'sa_act_$(act)',nbt:'music_track',offset:-2,mod:32}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.random",with:[{score:{name:"#musicTrackSA",objective:"value"}}]}]
execute if score @s levelManagerAct matches 1 if score #musicTrackSA value matches -1 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1166"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1169"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.random",with:[{score:{name:"#musicTrackSA",objective:"value"}}]}]
execute if score @s levelManagerAct matches 2 if score #musicTrackSA value matches -1 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1167"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1170"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.random",with:[{score:{name:"#musicTrackSA",objective:"value"}}]}]
execute if score @s levelManagerAct matches 3 if score #musicTrackSA value matches -1 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1168"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1171"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.random",with:[{score:{name:"#musicTrackSA",objective:"value"}}]}]
#$execute if score #musicTrackSA value matches 0 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field_down {resource_location:'sa_act_$(act)',nbt:'music_track',offset:-2,mod:32}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field {resource_location:'sa_act_$(act)',nbt:'music_track',offset:-2,mod:32}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.none",with:[{score:{name:"#musicTrackSA",objective:"value"}}]}]
execute if score @s levelManagerAct matches 1 if score #musicTrackSA value matches 0 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1166"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1169"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.none",with:[{score:{name:"#musicTrackSA",objective:"value"}}]}]
execute if score @s levelManagerAct matches 2 if score #musicTrackSA value matches 0 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1167"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1170"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.none",with:[{score:{name:"#musicTrackSA",objective:"value"}}]}]
execute if score @s levelManagerAct matches 3 if score #musicTrackSA value matches 0 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1168"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1171"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.none",with:[{score:{name:"#musicTrackSA",objective:"value"}}]}]
#$execute if score #musicTrackSA value matches 1.. run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field_down {resource_location:'sa_act_$(act)',nbt:'music_track',offset:-2,mod:32}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field {resource_location:'sa_act_$(act)',nbt:'music_track',offset:-2,mod:32}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.standard",with:[{score:{name:"#musicTrackSA",objective:"value"}}]}]
execute if score @s levelManagerAct matches 1 if score #musicTrackSA value matches 1.. run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1166"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1169"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.standard",with:[{score:{name:"#musicTrackSA",objective:"value"}}]}]
execute if score @s levelManagerAct matches 2 if score #musicTrackSA value matches 1.. run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1167"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1170"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.standard",with:[{score:{name:"#musicTrackSA",objective:"value"}}]}]
execute if score @s levelManagerAct matches 3 if score #musicTrackSA value matches 1.. run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1168"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1171"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.standard",with:[{score:{name:"#musicTrackSA",objective:"value"}}]}]
#music_function
$execute if score #musicTrackSA value matches ..-2 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_function",bold:true},{text:"  "},{nbt:"music_function",storage:"phan_dream_$(level_id):sa_act_$(act)",interpret:false},{text:"  "},{translate:"gp.misc.brackets",color:"light_purple",bold:false,with:[{translate:"gp.misc.set"}],click_event:{action:"suggest_command",command:"/function phan:level_manager/set_field {resource_location:'sa_act_$(act)',nbt:'music_function',value:\"bgm/play_0\"}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.set"}]}}]
$execute if score #musicTrackSA value matches -1.. run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_function",bold:true,color:"dark_gray"},{text:"  "},{nbt:"music_function",storage:"phan_dream_$(level_id):sa_act_$(act)",interpret:false,color:"dark_gray"}]
#reset_plane
$tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.player_reset_height",bold:true},{text:"  "},{nbt:"reset_plane",storage:"phan_dream_$(level_id):sa_act_$(act)",interpret:false},{text:"  "},{translate:"gp.misc.brackets",color:"light_purple",bold:false,with:[{translate:"gp.misc.set"}],click_event:{action:"suggest_command",command:"/function phan:level_manager/set_field {resource_location:'sa_act_$(act)',nbt:'reset_plane',value:'..-100'}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.set"}]}}]

#page number
tellraw @a[tag=tellMe] ["",{text:" "},{translate:"gp.level_manager.page_x_of_x",with:[{text:"2"},{text:"3"}],italic:true},{text:"  "},{text:"[<<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1172"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1173"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}}]

#back button
tellraw @a[tag=tellMe] ["",{text:" "}]
tellraw @a[tag=tellMe] ["",{translate:"gp.misc.brackets",color:"red",bold:false,with:[{translate:"gp.misc.back"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1001"},hover_event:{action:"show_text",value:[{translate:"gp.misc.back"}]}}]

$tellraw @a[tag=tellMe] ["",{text:"===/\\=== ",bold:true,color:"yellow"},{selector:"@s"},{text:" | "},{nbt:"act_name",storage:"phan_dream_$(level_id):sa_act_$(act)",interpret:false},{text:" ===/\\===",bold:true,color:"yellow"}]