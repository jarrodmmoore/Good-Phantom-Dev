#executed by a levelEntry armor_stand
#with $(level_id) = this armor stand's UID

#get players on the right page
scoreboard players set @a[tag=tellMe] levelManagerPage 2


#armor_stand should update itself on what scores it should have
execute store result storage phan:level_index level_id int 1 run scoreboard players get @s levelUID
function phan:level_manager/panel/score_attack/load_data_from_storage with storage phan:level_index


#title
tellraw @a[tag=tellMe] ["",{text:"\n\n\n\n\n\n\n"}]
tellraw @a[tag=tellMe] ["",{text:"===\\/=== ",bold:true,color:"yellow"},{selector:"@s"},{text:" ===\\/===",bold:true,color:"yellow"}]

#selectable y/n
execute if entity @s[tag=levelSelectableSA] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.selectable",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1116"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1117"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if entity @s[tag=!levelSelectableSA] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.selectable",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1116"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1117"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
#act 1, 2, 3
$tellraw @a[tag=tellMe] ["",{translate:"gp.misc.brackets",color:"light_purple",bold:false,with:[{nbt:"act_name",storage:"phan_dream_$(level_id):sa_act_1",interpret:false}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1118"},hover_event:{action:"show_text",value:[{nbt:"act_name",storage:"phan_dream_$(level_id):sa_act_1",interpret:false}]}},{text:"  "},{translate:"gp.misc.brackets",color:"dark_aqua",with:[{translate:"gp.level_manager.warp_to"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1119"},hover_event:{action:"show_text",value:[{translate:"gp.level_manager.warp_to"}]}}]
$tellraw @a[tag=tellMe] ["",{translate:"gp.misc.brackets",color:"light_purple",bold:false,with:[{nbt:"act_name",storage:"phan_dream_$(level_id):sa_act_2",interpret:false}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1120"},hover_event:{action:"show_text",value:[{nbt:"act_name",storage:"phan_dream_$(level_id):sa_act_2",interpret:false}]}},{text:"  "},{translate:"gp.misc.brackets",color:"dark_aqua",with:[{translate:"gp.level_manager.warp_to"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1121"},hover_event:{action:"show_text",value:[{translate:"gp.level_manager.warp_to"}]}}]
$tellraw @a[tag=tellMe] ["",{translate:"gp.misc.brackets",color:"light_purple",bold:false,with:[{nbt:"act_name",storage:"phan_dream_$(level_id):sa_act_3",interpret:false}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1122"},hover_event:{action:"show_text",value:[{nbt:"act_name",storage:"phan_dream_$(level_id):sa_act_3",interpret:false}]}},{text:"  "},{translate:"gp.misc.brackets",color:"dark_aqua",with:[{translate:"gp.level_manager.warp_to"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1123"},hover_event:{action:"show_text",value:[{translate:"gp.level_manager.warp_to"}]}}]
#bronze time
tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.bronze_medal_time",bold:true},{text:"  "},{text:"[",color:"white"},{score:{name:"#digit1BronzeTA",objective:"value"},color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1124"},hover_event:{action:"show_text",value:[{translate:"gp.level_manager.click_to_cycle"}]}},{text:":"},{score:{name:"#digit2BronzeTA",objective:"value"},color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1125"},hover_event:{action:"show_text",value:[{translate:"gp.level_manager.click_to_cycle"}]}},{score:{name:"#digit3BronzeTA",objective:"value"},color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1126"},hover_event:{action:"show_text",value:[{translate:"gp.level_manager.click_to_cycle"}]}},{text:".00]",color:"white"}]
#silver time
tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.silver_medal_time",bold:true},{text:"  "},{text:"[",color:"white"},{score:{name:"#digit1SilverTA",objective:"value"},color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1127"},hover_event:{action:"show_text",value:[{translate:"gp.level_manager.click_to_cycle"}]}},{text:":"},{score:{name:"#digit2SilverTA",objective:"value"},color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1128"},hover_event:{action:"show_text",value:[{translate:"gp.level_manager.click_to_cycle"}]}},{score:{name:"#digit3SilverTA",objective:"value"},color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1129"},hover_event:{action:"show_text",value:[{translate:"gp.level_manager.click_to_cycle"}]}},{text:".00]",color:"white"}]
#gold time
tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.gold_medal_time",bold:true},{text:"  "},{text:"[",color:"white"},{score:{name:"#digit1GoldTA",objective:"value"},color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1130"},hover_event:{action:"show_text",value:[{translate:"gp.level_manager.click_to_cycle"}]}},{text:":"},{score:{name:"#digit2GoldTA",objective:"value"},color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1131"},hover_event:{action:"show_text",value:[{translate:"gp.level_manager.click_to_cycle"}]}},{score:{name:"#digit3GoldTA",objective:"value"},color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1132"},hover_event:{action:"show_text",value:[{translate:"gp.level_manager.click_to_cycle"}]}},{text:".00]",color:"white"}]
#diamond time
tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.diamond_medal_time",bold:true},{text:"  "},{text:"[",color:"white"},{score:{name:"#digit1DiamondTA",objective:"value"},color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1133"},hover_event:{action:"show_text",value:[{translate:"gp.level_manager.click_to_cycle"}]}},{text:":"},{score:{name:"#digit2DiamondTA",objective:"value"},color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1134"},hover_event:{action:"show_text",value:[{translate:"gp.level_manager.click_to_cycle"}]}},{score:{name:"#digit3DiamondTA",objective:"value"},color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1135"},hover_event:{action:"show_text",value:[{translate:"gp.level_manager.click_to_cycle"}]}},{text:".00]",color:"white"}]

#back button
tellraw @a[tag=tellMe] ["",{text:" "}]
tellraw @a[tag=tellMe] ["",{translate:"gp.misc.brackets",color:"red",bold:false,with:[{translate:"gp.misc.back"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1005"},hover_event:{action:"show_text",value:[{translate:"gp.misc.back"}]}}]

tellraw @a[tag=tellMe] ["",{text:"===/\\=== ",bold:true,color:"yellow"},{selector:"@s"},{text:" ===/\\===",bold:true,color:"yellow"}]