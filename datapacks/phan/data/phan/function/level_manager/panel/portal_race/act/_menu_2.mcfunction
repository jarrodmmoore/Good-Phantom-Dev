#executed by a levelEntry armor_stand
#with $(level_id) = this armor stand's UID
#with $(act) = the act we're editing

#get players on the right page
scoreboard players set @a[tag=tellMe] levelManagerPage 7


#armor_stand should update itself on what scores it should have
execute store result storage phan:level_index level_id int 1 run scoreboard players get @s levelUID
function phan:level_manager/panel/portal_race/act/load_data_from_storage with storage phan:level_index


#title (+ act name)
tellraw @a[tag=tellMe] ["",{text:"\n\n\n\n\n\n\n"}]
$tellraw @a[tag=tellMe] ["",{text:"===\\/=== ",bold:true,color:"light_purple"},{selector:"@s"},{text:" | "},{nbt:"act_name",storage:"phan_dream_$(level_id):pr_act_$(act)",interpret:false},{text:" ===\\/===",bold:true,color:"light_purple"}]

#note about music_track:
#-2 = use custom path
#-1 = random
#0 = none
#1.. = specific vanilla track

#reminder! these two need to be calculated while the player is editing their track:
#time_between_checkpoints
#bot_checkpoint_data
#^ these could maybe be set manually, but this is probably too obtuse for people to understand


#thumbnail_model
#$tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.thumbnail_model",bold:true},{text:"  "},{nbt:"thumbnail_model",storage:"phan_dream_$(level_id):pr_act_$(act)",interpret:false},{text:"  "},{translate:"gp.misc.brackets",color:"light_purple",bold:false,with:[{translate:"gp.misc.set"}],click_event:{action:"suggest_command",command:"/function phan:level_manager/set_field {resource_location:'pr_act_$(act)',nbt:'thumbnail_model',value:\"gp/map_preview/generic\"}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.set"}]}}]
#time
$tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.time_of_day",bold:true},{text:"  "},{nbt:"time",storage:"phan_dream_$(level_id):pr_act_$(act)",interpret:false},{text:"  "},{translate:"gp.misc.brackets",color:"light_purple",bold:false,with:[{translate:"gp.misc.set"}],click_event:{action:"suggest_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'pr_act_$(act)',nbt:'time',value:6000}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.set"}]}}]
#weather
$tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.weather",bold:true},{text:"  "},{nbt:"weather",storage:"phan_dream_$(level_id):pr_act_$(act)",interpret:false},{text:"  "},{translate:"gp.misc.brackets",color:"light_purple",bold:false,with:[{translate:"gp.misc.set"}],click_event:{action:"suggest_command",command:"/function phan:level_manager/set_field {resource_location:'pr_act_$(act)',nbt:'weather',value:'clear'}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.set"}]}}]
#skybox
#$tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.skybox",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field_down {resource_location:'pr_act_$(act)',nbt:'skybox',offset:1,mod:4}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field {resource_location:'pr_act_$(act)',nbt:'skybox',offset:1,mod:4}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{nbt:"skybox",storage:"phan_dream_$(level_id):pr_act_$(act)",interpret:false}]
$execute if score @s levelManagerAct matches 1 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.skybox",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1028"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1032"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{nbt:"skybox",storage:"phan_dream_$(level_id):pr_act_$(act)",interpret:false}]
$execute if score @s levelManagerAct matches 2 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.skybox",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1029"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1033"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{nbt:"skybox",storage:"phan_dream_$(level_id):pr_act_$(act)",interpret:false}]
$execute if score @s levelManagerAct matches 3 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.skybox",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1030"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1034"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{nbt:"skybox",storage:"phan_dream_$(level_id):pr_act_$(act)",interpret:false}]
$execute if score @s levelManagerAct matches 4 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.skybox",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1031"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1035"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{nbt:"skybox",storage:"phan_dream_$(level_id):pr_act_$(act)",interpret:false}]
#countdown_type
$tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.start_countdown",bold:true},{text:"  "},{nbt:"countdown_type",storage:"phan_dream_$(level_id):pr_act_$(act)",interpret:false},{text:"  "},{translate:"gp.misc.brackets",color:"light_purple",bold:false,with:[{translate:"gp.misc.set"}],click_event:{action:"suggest_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'pr_act_$(act)',nbt:'countdown_type',value:0}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.set"}]}}]
#night vision
#$execute if entity @s[tag=act$(act)NightVision] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.night_vision",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'pr_act_$(act)',nbt:'night_vision',value:1}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'pr_act_$(act)',nbt:'night_vision',value:0}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 1 if entity @s[tag=act1NightVision] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.night_vision",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1036"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1040"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 2 if entity @s[tag=act2NightVision] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.night_vision",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1037"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1041"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 3 if entity @s[tag=act3NightVision] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.night_vision",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1038"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1042"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 4 if entity @s[tag=act4NightVision] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.night_vision",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1039"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1043"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
#$execute if entity @s[tag=!act$(act)NightVision] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.night_vision",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'pr_act_$(act)',nbt:'night_vision',value:1}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'pr_act_$(act)',nbt:'night_vision',value:0}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 1 if entity @s[tag=!act1NightVision] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.night_vision",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1044"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1048"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 2 if entity @s[tag=!act2NightVision] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.night_vision",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1045"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1049"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 3 if entity @s[tag=!act3NightVision] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.night_vision",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1046"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1050"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 4 if entity @s[tag=!act4NightVision] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.night_vision",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1047"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1051"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
#bright mine models
#$execute if entity @s[tag=act$(act)BrightMines] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.bright_mines",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'pr_act_$(act)',nbt:'bright_mines',value:1}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'pr_act_$(act)',nbt:'bright_mines',value:0}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 1 if entity @s[tag=act1BrightMines] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.bright_mines",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1052"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1056"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 2 if entity @s[tag=act2BrightMines] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.bright_mines",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1053"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1057"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 3 if entity @s[tag=act3BrightMines] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.bright_mines",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1054"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1058"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 4 if entity @s[tag=act4BrightMines] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.bright_mines",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1055"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1059"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
#$execute if entity @s[tag=!act$(act)BrightMines] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.bright_mines",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'pr_act_$(act)',nbt:'bright_mines',value:1}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/function phan:level_manager/set_field_numeric {resource_location:'pr_act_$(act)',nbt:'bright_mines',value:0}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 1 if entity @s[tag=!act1BrightMines] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.bright_mines",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1060"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1064"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 2 if entity @s[tag=!act2BrightMines] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.bright_mines",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1061"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1065"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 3 if entity @s[tag=!act3BrightMines] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.bright_mines",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1062"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1066"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
execute if score @s levelManagerAct matches 4 if entity @s[tag=!act4BrightMines] run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.bright_mines",bold:true},{text:"  "},{translate:"gp.misc.brackets",color:"gray",bold:false,with:[{translate:"gp.misc.yes"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1063"},hover_event:{action:"show_text",value:[{translate:"gp.misc.yes"}]}},{text:" "},{translate:"gp.misc.brackets",color:"yellow",bold:false,with:[{translate:"gp.misc.no"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1067"},hover_event:{action:"show_text",value:[{translate:"gp.misc.no"}]}}]
#music_track (#musicTrackPR)
#$execute if score #musicTrackPR value matches ..-2 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field_down {resource_location:'pr_act_$(act)',nbt:'music_track',offset:-2,mod:32}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field {resource_location:'pr_act_$(act)',nbt:'music_track',offset:-2,mod:32}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.custom",with:[{score:{name:"#musicTrackPR",objective:"value"}}]}]
execute if score @s levelManagerAct matches 1 if score #musicTrackPR value matches ..-2 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1068"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1072"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.custom",with:[{score:{name:"#musicTrackPR",objective:"value"}}]}]
execute if score @s levelManagerAct matches 2 if score #musicTrackPR value matches ..-2 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1069"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1073"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.custom",with:[{score:{name:"#musicTrackPR",objective:"value"}}]}]
execute if score @s levelManagerAct matches 3 if score #musicTrackPR value matches ..-2 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1070"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1074"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.custom",with:[{score:{name:"#musicTrackPR",objective:"value"}}]}]
execute if score @s levelManagerAct matches 4 if score #musicTrackPR value matches ..-2 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1071"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1075"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.custom",with:[{score:{name:"#musicTrackPR",objective:"value"}}]}]
#$execute if score #musicTrackPR value matches -1 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field_down {resource_location:'pr_act_$(act)',nbt:'music_track',offset:-2,mod:32}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field {resource_location:'pr_act_$(act)',nbt:'music_track',offset:-2,mod:32}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.random",with:[{score:{name:"#musicTrackPR",objective:"value"}}]}]
execute if score @s levelManagerAct matches 1 if score #musicTrackPR value matches -1 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1068"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1072"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.random",with:[{score:{name:"#musicTrackPR",objective:"value"}}]}]
execute if score @s levelManagerAct matches 2 if score #musicTrackPR value matches -1 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1069"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1073"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.random",with:[{score:{name:"#musicTrackPR",objective:"value"}}]}]
execute if score @s levelManagerAct matches 3 if score #musicTrackPR value matches -1 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1070"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1074"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.random",with:[{score:{name:"#musicTrackPR",objective:"value"}}]}]
execute if score @s levelManagerAct matches 4 if score #musicTrackPR value matches -1 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1071"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1075"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.random",with:[{score:{name:"#musicTrackPR",objective:"value"}}]}]
#$execute if score #musicTrackPR value matches 0 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field_down {resource_location:'pr_act_$(act)',nbt:'music_track',offset:-2,mod:32}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field {resource_location:'pr_act_$(act)',nbt:'music_track',offset:-2,mod:32}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.none",with:[{score:{name:"#musicTrackPR",objective:"value"}}]}]
execute if score @s levelManagerAct matches 1 if score #musicTrackPR value matches 0 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1068"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1072"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.none",with:[{score:{name:"#musicTrackPR",objective:"value"}}]}]
execute if score @s levelManagerAct matches 2 if score #musicTrackPR value matches 0 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1069"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1073"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.none",with:[{score:{name:"#musicTrackPR",objective:"value"}}]}]
execute if score @s levelManagerAct matches 3 if score #musicTrackPR value matches 0 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1070"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1074"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.none",with:[{score:{name:"#musicTrackPR",objective:"value"}}]}]
execute if score @s levelManagerAct matches 4 if score #musicTrackPR value matches 0 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1071"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1075"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.none",with:[{score:{name:"#musicTrackPR",objective:"value"}}]}]
#$execute if score #musicTrackPR value matches 1.. run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field_down {resource_location:'pr_act_$(act)',nbt:'music_track',offset:-2,mod:32}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/function phan:level_manager/cycle_field {resource_location:'pr_act_$(act)',nbt:'music_track',offset:-2,mod:32}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.standard",with:[{score:{name:"#musicTrackPR",objective:"value"}}]}]
execute if score @s levelManagerAct matches 1 if score #musicTrackPR value matches 1.. run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1068"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1072"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.standard",with:[{score:{name:"#musicTrackPR",objective:"value"}}]}]
execute if score @s levelManagerAct matches 2 if score #musicTrackPR value matches 1.. run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1069"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1073"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.standard",with:[{score:{name:"#musicTrackPR",objective:"value"}}]}]
execute if score @s levelManagerAct matches 3 if score #musicTrackPR value matches 1.. run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1070"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1074"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.standard",with:[{score:{name:"#musicTrackPR",objective:"value"}}]}]
execute if score @s levelManagerAct matches 4 if score #musicTrackPR value matches 1.. run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_track",bold:true},{text:"  "},{text:"[<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1071"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1075"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}},{text:"  "},{translate:"gp.level_manager.music_track_info.standard",with:[{score:{name:"#musicTrackPR",objective:"value"}}]}]
#music_function
$execute if score #musicTrackPR value matches ..-2 run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_function",bold:true},{text:"  "},{nbt:"music_function",storage:"phan_dream_$(level_id):pr_act_$(act)",interpret:false},{text:"  "},{translate:"gp.misc.brackets",color:"light_purple",bold:false,with:[{translate:"gp.misc.set"}],click_event:{action:"suggest_command",command:"/function phan:level_manager/set_field {resource_location:'pr_act_$(act)',nbt:'music_function',value:\"bgm/play_0\"}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.set"}]}}]
$execute if score #musicTrackPR value matches -1.. run tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.music_function",bold:true,color:"dark_gray"},{text:"  "},{nbt:"music_function",storage:"phan_dream_$(level_id):pr_act_$(act)",interpret:false,color:"dark_gray"}]
#reset_plane
$tellraw @a[tag=tellMe] ["",{translate:"gp.level_manager.player_reset_height",bold:true},{text:"  "},{nbt:"reset_plane",storage:"phan_dream_$(level_id):pr_act_$(act)",interpret:false},{text:"  "},{translate:"gp.misc.brackets",color:"light_purple",bold:false,with:[{translate:"gp.misc.set"}],click_event:{action:"suggest_command",command:"/function phan:level_manager/set_field {resource_location:'pr_act_$(act)',nbt:'reset_plane',value:'..-100'}"},hover_event:{action:"show_text",value:[{translate:"gp.misc.set"}]}}]

#page number
tellraw @a[tag=tellMe] ["",{text:" "},{translate:"gp.level_manager.page_x_of_x",with:[{text:"2"},{text:"3"}],italic:true},{text:"  "},{text:"[<<]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1076"},hover_event:{action:"show_text",value:[{translate:"gp.misc.previous"}]}},{text:" "},{text:"[>>]",color:"yellow",bold:false,click_event:{action:"run_command",command:"/trigger tLevelManager set 1077"},hover_event:{action:"show_text",value:[{translate:"gp.misc.next"}]}}]

#back button
tellraw @a[tag=tellMe] ["",{text:" "}]
tellraw @a[tag=tellMe] ["",{translate:"gp.misc.brackets",color:"red",bold:false,with:[{translate:"gp.misc.back"}],click_event:{action:"run_command",command:"/trigger tLevelManager set 1002"},hover_event:{action:"show_text",value:[{translate:"gp.misc.back"}]}}]

$tellraw @a[tag=tellMe] ["",{text:"===/\\=== ",bold:true,color:"light_purple"},{selector:"@s"},{text:" | "},{nbt:"act_name",storage:"phan_dream_$(level_id):pr_act_$(act)",interpret:false},{text:" ===/\\===",bold:true,color:"light_purple"}]